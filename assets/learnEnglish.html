<!DOCTYPE html>
<html lang="hi">

<head>
    <meta charset="UTF-8">
    <title>Neelkanth Typing ‚Äì English Typing Learn</title>
    <style>
        body {
            font-family:Arial, sans-serif;
            background: #f4f6f8;
            margin: 0;
        }

        .container {
            max-width: 100%;
            justify-items: center;
            margin: auto;
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 10px;
        }

        input,
        select,
        button {
            font-family: Mangal;
            font-size: 16px;
            padding: 6px;
            border-radius: 4px;
        }

        button {
            background: #3498db;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background: #2980b9;
        }

        #timer {
            font-weight: bold;
            color: #e74c3c;
        }

        #paragraph {
            font-size: 3vh;
            width: 98%;
            height: 200px;
            overflow-y: auto;
            border: 1px solid #333;
            padding: 10px;
        }

        .correct {
            color: green;
        }

        .incorrect {
            color: red;
        }

        #typingArea {
            width: 98%;
            height: 200px;
            padding: 10px;
            font-size: 3vh;
            font-family: Mangal;
            margin-top: 40px;
        }

        #result {
            width: 90%;
            display: none;
            margin-top: 15px;
            background: #ecfdf5;
            border: 1px solid #2ecc71;
            padding: 15px;
        }

        .footer {
            text-align: center;
            color: #777;
            margin-top: 10px;
        }


        /* ===== RESULT UI DESIGN ===== */
        #result {
            width: 95%;
            max-width: 500px;
            margin: 20px auto;
            display: none;
            background: linear-gradient(135deg, #e8f8ff, #f9fffc);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            animation: fadeIn 0.6s ease-in-out;
        }

        #result h2 {
            text-align: center;
            margin: 0 0 15px;
            color: #2c3e50;
        }

        .result-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .result-box {
            background: #ffffff;
            border-radius: 10px;
            padding: 12px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
        }

        .result-box span {
            display: block;
            font-size: 22px;
            font-weight: bold;
            color: #27ae60;
        }

        .result-box label {
            font-size: 14px;
            color: #555;
        }

        .result-footer {
            margin-top: 15px;
            text-align: center;
        }

        .result-footer button {
            padding: 8px 20px;
            font-size: 16px;
            border-radius: 20px;
            background: #27ae60;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Neelkanth Typing & Steno Classes <br> English Typing Learn</h1>

        <div class="controls">
            <div>Name: <input id="studentName"></div>

            <div>
                Chapter:
                <select id="chapterSelect"></select>
            </div>

            <div>
                Time:
                <select id="timeSelect">
                    <option value="60">1 Minute</option>
                    <option value="300">5 Minute</option>
                    <option value="600">10 Minute</option>
                    <option value="900">15 Minute</option>
                </select>
            </div>

            <div>‚è±Ô∏è <span id="timer">00:00</span></div>
            <button style=" background:#e74c3c;" id="backspaceBtn" onclick="toggleBackspace()">Backspace: OFF</button>

        </div>

        <div style="margin-bottom:10px;">
            <button onclick="startTest()">Start</button>
            <button onclick="pauseTest()">Pause</button>
            <button onclick="submitTest()">Submit</button>
        </div>


        <div id="paragraph"></div>
        <textarea id="typingArea" disabled placeholder="Type Here..."></textarea>

        <div id="result">
            <h2>üìä Test Result</h2>

            <div style="text-align:center;margin-bottom:10px;">
                <b id="rName"></b>
            </div>

            <div class="result-grid">
                <div class="result-box">
                    <span id="rWpm">0</span>
                    <label>WPM</label>
                </div>

                <div class="result-box">
                    <span id="rErrors">0</span>
                    <label>Errors</label>
                </div>

                <div class="result-box">
                    <span id="rAccuracy">0%</span>
                    <label>Accuracy</label>
                </div>

                <div class="result-box">
                    <span id="finalGrade">-</span>
                    <label>Grade</label>
                </div>
            </div>

            <div class="result-footer">
                <button onclick="window.print()">üñ®Ô∏è Print Result</button>
            </div>
        </div>


        <div class="footer">¬© Neelkanth Typing & Steno Classes</div>
    </div>

    <script>
        document.addEventListener("copy", e => e.preventDefault());
        document.addEventListener("cut", e => e.preventDefault());
        document.addEventListener("paste", e => e.preventDefault());
        document.addEventListener("contextmenu", e => e.preventDefault());

        // ==================== DEVTOOLS / INSPECT DISABLE ====================
        document.addEventListener("keydown", function (e) {
            if (e.keyCode === 123) e.preventDefault();
            if (e.ctrlKey && e.shiftKey && (e.keyCode === 73 || e.keyCode === 74 || e.keyCode === 67)) e.preventDefault();
            if (e.ctrlKey && e.keyCode === 85) e.preventDefault();
        });

        // ==================== FULLSCREEN ====================
        function goFullScreen() {
            let elem = document.documentElement;
            if (elem.requestFullscreen) elem.requestFullscreen();
            else if (elem.mozRequestFullScreen) elem.mozRequestFullScreen();
            else if (elem.webkitRequestFullscreen) elem.webkitRequestFullscreen();
            else if (elem.msRequestFullscreen) elem.msRequestFullscreen();
        }

        const originalStartTest = startTest;
        startTest = function () {
            goFullScreen();
            originalStartTest();
        }

        // ==================== CHAPTER DATA ====================
        const chapters = {
                1: "aaaa ssss dddd ffff jjjj kkkk llll ;;;; aaaa ssss dddd ffff jjjj kkkk llll ;;;; aaaa ssss dddd ffff jjjj kkkk llll ;;;; aaaa ssss dddd ffff jjjj kkkk llll ;;;; aaaa ssss dddd ffff jjjj kkkk llll ;;;; aaaa ssss dddd ffff jjjj kkkk llll ;;;; aaaa ssss dddd ffff jjjj kkkk llll ;;;; aaaa ssss dddd ffff jjjj kkkk llll ;;;; aaaa ssss dddd ffff jjjj kkkk llll ;;;; aaaa ssss dddd ffff jjjj kkkk llll ;;;; aaaa ssss dddd ffff jjjj kkkk llll ;;;; aaaa ssss dddd ffff jjjj kkkk llll ;;;; aaaa ssss dddd ffff jjjj kkkk llll ;;;; aaaa ssss dddd ffff jjjj kkkk llll ;;;; aaaa ssss dddd ffff jjjj kkkk llll ;;;;",
                

                2: "ffff jjjj dddd kkkk ssss llll aaaa ;;;; ffff jjjj dddd kkkk ssss llll aaaa ;;;; ffff jjjj dddd kkkk ssss llll aaaa ;;;; aaaa ssss dddd ffff jjjj kkkk llll ;;;; aaaa ssss dddd ffff jjjj kkkk llll ;;;; ffff jjjj dddd kkkk ssss llll aaaa ;;;; ffff jjjj dddd kkkk ssss llll aaaa ;;;; aaaa ssss dddd ffff jjjj kkkk llll ;;;;",

                3: "ffff '''' ffff '''' ;;;; '''' '''' ;;; ;;; '' ;' '' ; ';; ff'' jj;; jj'' '''' '''' ;;; ';' '' 'ffff' 'jjjj' 'asdf' 'jkl;' ffff ffff ;;;; '''' '''' ;;; '';; ff'' jj;; jj'' '''' '''' ;;; '' ';' 'ffff' 'jjjj' 'asdf' 'jkl;' ffff '''' ffff '''' ;;;; ;;; '' ;;; '' ;'' ;;';; ff'' jj;; jj'' '''' '''' ;;; ';' ';' 'ffff' 'jjjj' 'asdf' 'jkl;'",

                4: "ffff gggg hhhh jjjj ffgg jjhh ffjj jjff fjjf ggff ggff hhjj hhjj jjhh jh jh fg ffff gggg hhhh jjjj ffgg jjhh ffjj jjff fjjf ggff ggff hhjj hhjj jjhh jh jh fg ffff dddd ssss aaaa gggg hhhh jjjj kkkk llll ;;;;",

                5: "ddkk ddkk kkdd dkdj dkdj jdkd jkdj ddkk ddkk kkdd dkdj dkdj jdkd jkdj ddkk ddkk kkdd dkdj dkdj jdkd jkdj ssss ssss llll llll dddd dddd kkkk ;;;; ;;;; ;;;; ssss ssss llll llll dddd dddd kkkk ;;;; ;;;; ;;;; ssss ssss llll llll dddd dddd kkkk ;;;; ;;;; ;;;;",

                6: "had sad fall shall glad dad lad ask dash flask all has ash fad alas lass gala jada half had lash sala salad alja jada hall shall ask fall dash galah gala dahl aka dash daja jafa jade gala lads lad has dada kaja fall salsa gal galah alka adj lad had sad fall shall glad dad lad ask dash flask all has ash fad alas lass gala jada half",

                7: "qqqq wwww eeee rrrr tttt qqqq wwww eeee rrrr tttt yyyy uuuu iiii oooo pppp yyyy uuuu iiii oooo pppp qqqq wwww eeee rrrr tttt qqqq wwww eeee rrrr tttt yyyy uuuu iiii oooo pppp yyyy uuuu iiii oooo pppp qqqw eeer ttyy uuii oopp qq ww ee rr tt yy uu ii oo pp",

                8: "qqqq pppp wwww oooo eeee iiii rrrr uuuu yyyy rruu uurr eeii iiee wooo ooww qqpp ppqq qwertyuiop qwertyuiop qwertyuiop qqqq pppp wwww oooo eeee iiii rrrr uuuu yyyy rruu uurr eeii iiee wooo ooww qqpp ppqq qwertyuiop qwertyuiop qwertyuiop",

                9: "uuu uuu rrr rrr uuu rrr jjj uuu jjj uuu fff rrr fff rrr juj juj frf frf uju uju rfr rfr ara ara srs srs frf frf drd drd grg grg hrh hrh jrj jrj lrl lrl ;r; ;r; aua aua sus sus dud dud fuf fuf gug gug huh huh juj juj kuk kuk lul lul ;u; ;u;",

                10: "iii iii iii iii eee eee eee eee iii eee iii eee iii eee iei iei iei iei eie eie eie eie iii iii iii eee eee eee ie ie ie ei ei ei ii ee ie ei ei ie ii ie ee ei i i i i e e e e i e e e i e e i iei iei eee iii eee iii iii eee eee iii eee kkk iii kkk iii ddd eee ddd eee kik kik ded ded iki iki edd edd aaa aaa ses ses ded ded fef fef geg geg heh heh jej jej kek kek lel lel ;e; aia aia sis sis did did fif fif gig gig hih hih jij jij kik kik lil lil ;i; ;i;",

                11: "kid red did rid fed riff kidder udder rudder sir ire ide use fuse ruse hid gig lure lug lid dill frill drill file side kiss less jug jerk desk disk ask ark aid ail fail fake rake sake lake jake age usage lids slid slide laid reads fare luge slider shake shade gads gags sage shares slur skids kisses fuss hashed haggle sashes kid red did rid fed riff kidder udder rudder sir ire ide use fuse ruse hid gig lure lug lid dill frill drill file side kiss less jug jerk desk disk ask ark aid ail fail fake rake sake lake jake age usage lids slid slide laid reads fare luge slider shake shade gads gags sage shares slur skids kisses fuss hashed haggle sashes",

                12: "ooo ooo ooo ooo www www www www ooo www ooo www ooo www owo owo owo owo wow wow wow wow ooo ooo ooo www www www ow ow ow wo wo wo wo ww ow wo wo ow oo ow ww wo o o o o w w w w o w w o o w o owo oow woo wwo oww www ooo wow",

                13: "ooo ooo www www ooo www 111 ooo 111 ooo sss www sss www lol lol sws sws olo olo wsw wsw awa awa sws sws dwd dwd fwf fwf gwg gwg hwh hwh jwj jwj kwk wk lwl lwl ;w; ;w; aoa aoa sos sos dod dod fof fof gog gog hoh hoh joj joj kok kok lol lol ;o; ;o;",

                14: "ppp ppp ppp ppp qqq qqq qqq qqq ppp qqq ppp qqq ppp qqq pqp pqp pqp pqp qpq qpq qpq qpq ppp ppp ppp qqq qqq qqq pq pq pq qp qp qp pp qq pq qp qp pq pp q qq qp p p p p q q q q p q q p p q p pqp qpp qqp pqq qqq ppp qpq",

                15: "ppp ppp qqq qqq ppp qqq ;;; ppp ;;; ppp aaa qqq aaa qqq ;p; ;p; aqa aqa p;p p;p qaq qaq aqa aqa sqs sqs dqd dqd fqf fqf gqg gqg hqh hqh jqj jqj kqk kqk lql lql ;q; ;q; apa apa sps sps dpd dpd fpf fpf gpg gpg hph hph jpj jpj kpk kpk lpl lpl ;p; ;p;",

                16: "yyy yyy yyy yyy ttt ttt ttt ttt yyy ttt yyy ttt yyy ttt yty yty yty yty tyt tyt tyt tyt yyy yyy yyy ttt ttt ttt yt yt yt ty ty ty yy tt yt ty ty yt yy yt tt ty y y y y t t t t y t t y y t y yty yyt tyy tty ytt ttt yyy ytyyy yyy ttt ttt yyy ttt ;; yyy ;; yyy aaa ttt aaa ttt ;y; ;y; ata ata y;y y;y tat tat ata ata sts sts dtd dtd ftf ftf gtg gtg hth hth jtj jtj ktk ktk ltl ltl ;t; ;t; aya aya sys sys dyd dyd fyf fyf gyg gyg hyh hyh jyj jyj kyk kyk lyl lyl ;y; ;y;",

                17: "the four lads stood quietly atop the tower; pear salad is a great quirky dish; plaid dads play golf; slide the glass to your good pal; we gladly yapped for two hours; wade through the water to us; either of us will go; we used our gold goose eggs well; let us do tea for two; go forward to the other side; other ghosts will spook us; the riders had quite a lot of leg power; you see how easy it is to type the top row; a little further to go yet; i wish i had read the flyer fully; read it for us please; joe sipped jade tea jealously; kate flew her fast kite sky high;",

                18: "mmm mmm mmm mmm vvv vvv vvv vvv mmm vvv mmm vvv mmm vvv mvm mvm mvm mvm vmv vmv vmv vmv mmm mmm mmm vvv vvv vvv mv mv mv vm vm vm mm vv mv vm vm mv mm mv vv vm m m m m v v v v m v v m m v v m mvm vmm vvm mvv vvv mmm vmv",

                19: "mmm mmm vvv vvv mmm vvv jjj mmm jjj mmm fff vvv fff vvv jmj jmj fvf fvf mjm mjm vfv vfv ava ava svs svs dvd dvd fvf fvf gvg gvg hvh hvh jvj jvj lvl lvl ;v; ;v; ama ama sms sms dmd dmd fmf fmf gmg gmg hmh hmh jmj jmj kmk kmk lml lml ;m; ;m;",

                20: ",,, ,,, ,,, ,,, ccc ccc ccc ccc ,,, ccc ,,, ccc ,,, ccc ,c, ,c, ,c, ,c, c,c c,c c,c c,c ,,, ,,, ,,, ccc ccc ccc ,c, ,c, ,c c, c, ,, cc ,c c, c, ,c ,, ,c cc c, , , , , c c c c , cc , , c c, ,c, ,,c c,, cc ccc ,,, c,c",

                21: ",,, ,,, ccc ccc ,,, ccc kkk ,,, kkk ,,, ddd ccc ddd ccc k,k k,k dcd dcd ,k, ,k, cdc cdc aca aca scs scs dcd dcd fcf fcf gcg gcg hch hch jcj jcj kck kck lcl lcl ;c; ;c; a,a a,a s,s s,s d,d d,d f,f f,f g,g g,g h,h h,h j,j j,j k,k k,k l,l l,l ;;; ;;;",

                22: "... ... ... ... xxx xxx xxx xxx ... xxx ... xxx ... xxx .x. .x. .x. .x. x.x x.x x.x x.x ... xxx xxx xxx x. x. x. x. .. xx .x x. x. . x. .. x xx x. . . . . x x x x . x x . . x x .x. .. x. x. xx. .xx xxx ... x.x",

                23: ".. ... xxx xxx ... xxx lll ... lll ... sss xxx sss xxx l.l l.l sxs sxs .l. .l. xsx xsx axa axa sxs sxs dxd dxd fxf fxf gxg gxg hxh hxh jxj jxj kxk kxk lxl lxl ;x; ;x; a.a a.a s.s s.s d.d d.d f.f f.f g.g g.g h.h h.h j.j j.j k.k k.k l.l l.l ;;; ;;;",

                24: "/// /// /// /// zzz zzz zzz zzz /// zzz /// zzz /// zzz /z/ /z/ /z/ /z/ z/z z/z z/z z/z /// /// zzz zzz zzz z/ z/ z/ z/ z/ z/ z/ z/ z/ // /z zz z/ / / / / z z z z / z z / / z z / /z/ // z/ z/ zz/ /zz zzz /// z/z",

                25: "/// /// zzz zzz /// zzz ;;; /// ;;; /// aaa zzz aaa zzz ;/; ;/; aza aza /;/ /;/ zaz zaz aza aza szs szs dzd dzd fzf fzf gzg gzg hzh hzh jzj jzj kzk kzk lzl lzl ;z; ;z; a/a a/a s/s s/s d/d d/d f/f f/f g/g g/g h/h h/h j/j j/j k/k k/k l/l l/l ;/; ;/;",

                26: "nnn nnn nnn nnn bbb bbb bbb bbb nnn bbb nnn bbb nnn bbb bnn bnn nbn nbn bnb bnb bnb bnb nnn nnn nnn bbb bbb bbb nb nb nb bn bn bn nn bb nb bn bn nb nn nb bb bn n n n n b b b b n b b n n b b n nbn nnb bnn bbn nnb bbb nnn bnb",

                27: "nnn nnn bbb bbb nnn bbb ;;; nnn ;;; nnn aaa bbb aaa bbb ;n; ;n; aba aba n;n n;n bab bab aba aba sbs sbs dbd dbd fbf fbf gbg gbg hbh hbh jbj jbj kbk kbk lbl lbl ;b; ;b; ana ana sns sns dnd dnd fnf fnf gng gng hnh hnh jnj jnj knk knk lnl lnl ;n; ;n;",

                28: "zebras are not exactly known for being quiet animals. she/he would very likely just play along for a while. you can make quite a lot of lemon zest with even larger sized lemons; please cover each plate. six boxes quickly woke axel; just in time. i caught five jelly fish, six octopus and two sea urchins for my buddy ben. eight / six is exactly equal to four / three.",

                29: "JJJ JJJ JJJ KKK KKK KKK LLL LLL LLL JjJ JjJ JjJ KkK KkK KkK LlL LlL LlL Jjj Jjj Jjj Kkk Kkk Kkk Lll Lll Lll HHH HHH HHH HhH HhH HhH UUU UUU UUU III III III OOO OOO OOO PPP PPP PPP UuU UuU UuU IiI IiI IiI OoO OoO OoO PpP PpP PpP YYY YYY YYY YyY YyY YyY MMM MMM MMM MmM MmM MmM NNN NNN NNN NnN NnN NnN Nnn Nnn Nnn",

                30: "FFF FFF FFF DDD DDD DDD SSS SSS SSS AAA AAA AAA FfF FfF FfF DdD DdD DdD SsS SsS SsS AaA AaA AaA FfF FfF FfF DdD DdD DdD SsS SsS SsS AaA AaA AaA GGG GGG GGG GgG GgG GgG Ggg Ggg Ggg RRR RRR RRR EEE EEE EEE WWW WWW WWW QQQ QQQ QQQ RrR RrR RrR EeE EeE EeE WwW WwW WwW QqQ QqQ QqQ RrR RrR RrR Eee Eee Eee WwW WwW WwW QqQ QqQ QqQ TtT TtT TtT tTt tTt tTt VVV VVV VVV CCC CCC CCC XXX XXX XXX ZZZ ZZZ ZZZ VvV VvV VvV CcC CcC CcC XxX XxX XxX ZzZ ZzZ ZzZ Vvv Vvv Vvv Ccc Ccc Ccc Xxx Xxx Xxx ZzZ ZzZ ZzZ BBB BBB BBB BbB BbB BbB Bbb Bbb Bbb",

                31: "''' \"\"\"\" //// ???? ...... >>>>> ,,,,, <<<< //// >>>> <<<< ,,,, >>>> ,,,,, ...... //// ;;;; \"\"\"\" ''' \"\" \"\" \"\" ;;; ,;; \"\";; ,;;\"\" ,<< ..>> //?? ..>> ,,<< \"\"'' \"\"\"\" //// ???? ...... >>>>> ,,,,, <<<< //// >>>> <<<< ,,,, >>>> ,,,,, ...... //// ;;;; \"\"\"\" ''' \"\" \"\" \"\" ;;; ,;; \"\";; ,;;\"\" ,<< ..>> //?? ..>> ,,<<",

                32: "WOW. Four Jacks And One Queen, I Win. Please Do Not Go Up There Now. Zack Needs MORE Caramel Kettle Corn ASAP. Nobody Even HAS Any Purple Vests. Xavier Let Seventy Yellow BEES Into Our Cabin. YIKES. Good Lemons Are HARD To Pick. Do Not Watch Karen; She Is VERY Nervous."
            };
 

        // ==================== ELEMENTS ====================
        const chapterSelect = document.getElementById("chapterSelect");
        const paragraph = document.getElementById("paragraph");
        const typingArea = document.getElementById("typingArea");
        const studentName = document.getElementById("studentName");
        const timeSelect = document.getElementById("timeSelect");
        const timer = document.getElementById("timer");
        const result = document.getElementById("result");
        const rName = document.getElementById("rName");
        const rWpm = document.getElementById("rWpm");
        const rErrors = document.getElementById("rErrors");
        const rAccuracy = document.getElementById("rAccuracy");
        const finalGrade = document.getElementById("finalGrade");

        let text = "", paraWords = [], timeLeft = 0, interval = null, paused = false;

        // ==================== CHAPTER DROPDOWN ====================
        for (let key in chapters) {
            let opt = document.createElement("option");
            opt.value = key;
            opt.innerText = `Chapter ${key}`;
            chapterSelect.appendChild(opt);
        }

        // ==================== LOAD CHAPTER (RESET LOGIC ADDED) ====================
        function loadChapter() {
            if (interval !== null) {
                clearInterval(interval);
                interval = null;
            }

            paused = false;
            timeLeft = parseInt(timeSelect.value);
            updateTimer();

            result.style.display = "none";
            rName.innerText = "";
            rWpm.innerText = "0";
            rErrors.innerText = "0";
            rAccuracy.innerText = "0";
            finalGrade.innerText = "";

            text = chapters[chapterSelect.value];
            paraWords = text.split(" ");
            paragraph.innerHTML = paraWords.map(w => `<span>${w} </span>`).join("");

            typingArea.value = "";
            typingArea.disabled = true;
        }

        chapterSelect.addEventListener("change", loadChapter);
        loadChapter();

        // ==================== START TEST ====================
        function startTest() {
            if (studentName.value.trim() === "") {
                alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç");
                return;
            }

            if (interval !== null && !paused) return;

            if (interval === null) {
                timeLeft = parseInt(timeSelect.value);
                updateTimer();
            }

            paused = false;
            typingArea.disabled = false;
            typingArea.focus();

            if (interval === null) {
                interval = setInterval(() => {
                    if (!paused) {
                        timeLeft--;
                        updateTimer();
                        if (timeLeft <= 0) endTest();
                    }
                }, 1000);
            }
        }

        function pauseTest() {
            if (interval === null) return;
            paused = !paused;
        }

        function submitTest() {
            if (!interval) { alert("Test start ‡§®‡§π‡•Ä‡§Ç ‡§π‡•Å‡§Ü"); return; }
            endTest();
        }

        function updateTimer() {
            let m = Math.floor(timeLeft / 60);
            let s = timeLeft % 60;
            timer.innerText = `${String(m).padStart(2, '0')}:${String(s).padStart(2, '0')}`;
        }

        // ==================== TYPING LOGIC ====================
        typingArea.addEventListener("input", () => {
            const typed = typingArea.value.trim().split(/\s+/);
            const spans = document.querySelectorAll("#paragraph span");

            spans.forEach((span, i) => {
                if (!typed[i]) span.className = "";
                else if (typed[i] === paraWords[i]) span.className = "correct";
                else span.className = "incorrect";
            });

            if (typed.length === paraWords.length && typed[typed.length - 1] === paraWords[paraWords.length - 1]) {
                endTest();
            }
        });

        // ==================== END TEST ====================
        function endTest() {
            clearInterval(interval);
            interval = null;
            typingArea.disabled = true;

            const typed = typingArea.value.trim().split(" ");
            let errors = 0;
            typed.forEach((w, i) => { if (w !== paraWords[i]) errors++; });

            let totalTime = parseInt(timeSelect.value) - timeLeft;
            let minutes = totalTime / 60 || 1;
            let wpm = Math.round(typed.length / minutes);
            let acc = typed.length ? Math.round(((typed.length - errors) / typed.length) * 100) : 0;

            rName.innerText = studentName.value;
            rWpm.innerText = wpm;
            rErrors.innerText = errors;
            rAccuracy.innerText = acc;
            finalGrade.innerText = getGrade(acc);
            result.style.display = "block";
        }

        // ==================== GRADE ====================
        function getGrade(acc) {
            if (acc >= 95) return "A+";
            if (acc >= 90) return "A";
            if (acc >= 80) return "B";
            if (acc >= 70) return "C";
            return "Needs Practice";
        }

        // ==================== BACKSPACE CONTROL ====================
        let backspaceDisabled = true;
        const backspaceBtn = document.getElementById("backspaceBtn");

        function toggleBackspace() {
            backspaceDisabled = !backspaceDisabled;
            backspaceBtn.innerText = backspaceDisabled ? "Backspace: OFF" : "Backspace: ON";
        }

        typingArea.addEventListener("keydown", function (e) {
            if (backspaceDisabled && e.key === "Backspace") {
                e.preventDefault();
            }
        });
    </script>

</body>

</html>