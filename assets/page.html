<!DOCTYPE html>
<html lang="hi">

<head>
    <meta charset="UTF-8">
    <title>Neelkanth Typing ‚Äì English Typing Test</title>
    <style>
        body {
            font-family: Mangal, Arial, sans-serif;
            background: #f4f6f8;
            margin: 0;
        }

        .container {
            max-width: 100%;
            justify-items: center;
            margin: auto;
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 10px;
        }

        input,
        select,
        button {
            font-family: Mangal;
            font-size: 16px;
            padding: 6px;
            border-radius: 4px;
        }

        button {
            background: #3498db;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background: #2980b9;
        }

        #timer {
            font-weight: bold;
            color: #e74c3c;
        }

        #paragraph {
            font-size: 3vh;
            width: 98%;
            height: 200px;
            overflow-y: auto;
            border: 1px solid #333;
            padding: 10px;
        }

        .correct {
            color: green;
        }

        .incorrect {
            color: red;
        }

        #typingArea {
            width: 98%;
            height: 200px;
            padding: 10px;
            font-size: 3vh;
            font-family: Mangal;
            margin-top: 40px;
        }

        #result {
            width: 90%;
            display: none;
            margin-top: 15px;
            background: #ecfdf5;
            border: 1px solid #2ecc71;
            padding: 15px;
        }

        .footer {
            text-align: center;
            color: #777;
            margin-top: 10px;
        }


        /* ===== RESULT UI DESIGN ===== */
        #result {
            width: 95%;
            max-width: 500px;
            margin: 20px auto;
            display: none;
            background: linear-gradient(135deg, #e8f8ff, #f9fffc);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            animation: fadeIn 0.6s ease-in-out;
        }

        #result h2 {
            text-align: center;
            margin: 0 0 15px;
            color: #2c3e50;
        }

        .result-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .result-box {
            background: #ffffff;
            border-radius: 10px;
            padding: 12px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
        }

        .result-box span {
            display: block;
            font-size: 22px;
            font-weight: bold;
            color: #27ae60;
        }

        .result-box label {
            font-size: 14px;
            color: #555;
        }

        .result-footer {
            margin-top: 15px;
            text-align: center;
        }

        .result-footer button {
            padding: 8px 20px;
            font-size: 16px;
            border-radius: 20px;
            background: #27ae60;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Neelkanth Typing & Steno Classes <br> English Typing Test</h1>

        <div class="controls">
            <div>Name: <input id="studentName"></div>

            <div>
                Chapter:
                <select id="chapterSelect"></select>
            </div>

            <div>
                Time:
                <select id="timeSelect">
                    <option value="60">1 Minutes</option>
                    <option value="300">5 Minutes</option>
                    <option value="600">10 Minutes</option>
                    <option value="900">15 Minutes</option>
                </select>
            </div>

            <div>‚è±Ô∏è <span id="timer">00:00</span></div>
            <button style=" background:#e74c3c;" id="backspaceBtn" onclick="toggleBackspace()">Backspace: OFF</button>

        </div>

        <div style="margin-bottom:10px;">
            <button onclick="startTest()">Start</button>
            <button onclick="pauseTest()">Pause</button>
            <button onclick="submitTest()">Submit</button>
        </div>


        <div id="paragraph"></div>
        <textarea id="typingArea" disabled placeholder="‡§Ø‡§π‡§æ‡§Å ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡•á‡§Ç..."></textarea>

        <div id="result">
            <h2>üìä Test Result</h2>

            <div style="text-align:center;margin-bottom:10px;">
                <b id="rName"></b>
            </div>

            <div class="result-grid">
                <div class="result-box">
                    <span id="rWpm">0</span>
                    <label>WPM</label>
                </div>

                <div class="result-box">
                    <span id="rErrors">0</span>
                    <label>Errors</label>
                </div>

                <div class="result-box">
                    <span id="rAccuracy">0%</span>
                    <label>Accuracy</label>
                </div>

                <div class="result-box">
                    <span id="finalGrade">-</span>
                    <label>Grade</label>
                </div>
            </div>

            <div class="result-footer">
                <button onclick="window.print()">üñ®Ô∏è Print Result</button>
            </div>
        </div>


        <div class="footer">¬© Neelkanth Typing & Steno Classes</div>
    </div>

    <script>
        document.addEventListener("copy", e => e.preventDefault());
        document.addEventListener("cut", e => e.preventDefault());
        document.addEventListener("paste", e => e.preventDefault());
        document.addEventListener("contextmenu", e => e.preventDefault());

        // ==================== DEVTOOLS / INSPECT DISABLE ====================
        document.addEventListener("keydown", function (e) {
            if (e.keyCode === 123) e.preventDefault();
            if (e.ctrlKey && e.shiftKey && (e.keyCode === 73 || e.keyCode === 74 || e.keyCode === 67)) e.preventDefault();
            if (e.ctrlKey && e.keyCode === 85) e.preventDefault();
        });

        // ==================== FULLSCREEN ====================
        function goFullScreen() {
            let elem = document.documentElement;
            if (elem.requestFullscreen) elem.requestFullscreen();
            else if (elem.mozRequestFullScreen) elem.mozRequestFullScreen();
            else if (elem.webkitRequestFullscreen) elem.webkitRequestFullscreen();
            else if (elem.msRequestFullscreen) elem.msRequestFullscreen();
        }

        const originalStartTest = startTest;
        startTest = function () {
            goFullScreen();
            originalStartTest();
        }

        // ==================== CHAPTER DATA ====================
        const chapters = {
                1: "ask fad alas asks shad lads flags flask glass jag fag fall hash glad sags galls halls salad jak has jags gaff hall dash flash slash flasks lad sad lash adds gall gash shall lakhs dhalls ask fad alas asks shad lads flags flask glass jag fag fall hash glad sags galls halls salad jak has jags gaff hall dash flash slash flasks lad sad lash adds gall gash shall lakhs dhall sask fad alas asks shad lads flags flask glass jag fag fall hash glad sags galls halls salad jak has jags gaff hall dash flash slash flasks lad sad lash adds gall gash shall lakhs dhalls",
                2: "fish kodak ahead larks quail apples reader flukes fiddlefish kodak ahead larks quail apples reader flukes fiddle dead rails sales agile isles should liquid shower saddle idols jaded sails filed legal folder sledge squall larger grade jails lakes roses rupee squeal fields lulled dislike apple dirks lease equip skill easels dollar poorer require asked forks hedge would grass jokers jailer equals refresh fails usual liked walks peaks orders follow drawls defiles fish kodak ahead larks quail apples reader flukes fiddle dead rails sales agile isles should liquid shower saddle idols jaded sails filed legal folder sledge squall larger grade jails lakes roses rupee squeal fields lulled dislike apple dirks lease equip skill easels dollar poorer require asked forks hedge would grass jokers jailer equals refresh fails usual liked walks peaks orders follow drawls defiles",
               3: "proof order while widow fewer sheep spark pride rapid world swear gross house flour award solar house shape awake slope flood prior spell power sharp would pause upper award order flood whole error weird dough sword opera shape lower offer awful iraqi squad plead while sleep rough super solid spill radio sleep equip group press equal works pulse spare grape swell phase sweep pause arrow apple loose wheel whose offer juror speed floor shore whole proud where allow horse hello press aware speak paper prior speed purse whale grasp where weigh queen queue query quiff quack",
               4: "style thigh trade tough forty party third taste after trust plate sweat pasta fifth delay daily sweet upset stake write fight steak other worry south daily quite apart photo apart later right forth await ratio wheat guilt depth quote total right adapt split strip apply fight start trail other fruit outer tooth these trial early total adult right alter short fully stuff treat worth quiet light least pilot fifty adopt royal white those spray today strip three first story earth asset hotel shift white water yours quote troop stair study trail there throw ought steep hurry",
               5: "after there trade worth sight towel quest elite ready straw title risky route layer delay wrist waist truly drift waste glory tired essay early fatal greet state heart sport state tower dirty faith upset diary light draft still spite skirt store steel shoot shift alley study float shout array yield light later trait worry tight trash staff ghost eight stage stiff stuff sorry steal great stare trust short guest death light tight loyal yield sheet fault rally first fleet other happy youth reply twist still waste steer suite store their draft shirt truth taste twist silly start",
               6: "lawyers streaks shipped hillside herewith proposals typewriter shekels forward desired loophole jugglers strapples yesterday hatless figures prepare feathery freehold struggles kirkwall thought thyself treated assessed prepared territory laughter quarter yodlers youthful although supplies guileless waggish freight further ploughes shippers slightly telegraph without dutiful pleased goodwill tortuous property addressed powerfully laughed kettles whiskers thorough repeated flashlight etiquette petrols regular equipped lilliput lawyers streaks shipped hillside herewith proposals typewriter shekels forward desired loophole jugglers strapples yesterday hatless figures prepare feathery freehold struggles kirkwall thought thyself treated assessed prepared territory laughter quarter yodlers youthful although supplies guileless waggish freight further ploughes shippers slightly telegraph without dutiful pleased goodwill tortuous property addressed powerfully laughed kettles whiskers thorough repeated flashlight etiquette petrols regular equipped lilliput",
                7: "amazed journal gambols pickling vineyard grizzled except jackets fixture austrian appeared frequent logical student spacing movement joyfully premises sixfold succeed western examined accuracy fortress daybook lecture neither vexation quantity executor kindled general private practice question deduction jingled amulets service produces requires judicious jumbled arrival relative provoked starting materials swivels fizzed possible somewhat cylinder assessment violets regaled becoming gracious thousand appearance amazed journal gambols pickling vineyard grizzled except jackets fixture austrian appeared frequent logical student spacing movement joyfully premises sixfold succeed western examined accuracy fortress daybook lecture neither vexation quantity executor kindled general private practice question deduction jingled amulets service produces requires judicious jumbled arrival relative provoked starting materials swivels fizzed possible somewhat cylinder assessment violets regaled becoming gracious thousand appearanceamazed journal gambols pickling vineyard grizzled except jackets fixture austrian appeared frequent logical student spacing movement joyfully premises sixfold succeed western examined accuracy fortress daybook lecture neither vexation quantity executor kindled general private practice question deduction jingled amulets service produces requires judicious jumbled arrival relative provoked starting materials swivels fizzed possible somewhat cylinder assessment violets regaled becoming gracious thousand appearance",
                8: "points children clockwork remittance punctuation constitution common frequent requisite attractive distinction arrangements sinful ambition novelties yardsticks environment approximately summer umbrella answering foundation explanation distinguished behalf armature regarding guaranteed association ornamentation exhibit relieved exceeding sufference competition peculiarities thunder citizens abundance atmosphere transmitted specification maximum commonly apparatus partition questionless investigations adopting pamphlets accompany communicate installation circumstances points children clockwork remittance punctuation constitution common frequent requisite attractive distinction arrangements sinful ambition novelties yardsticks environment approximately summer umbrella answering foundation explanation distinguished behalf armature regarding guaranteed association ornamentation exhibit relieved exceeding sufference competition peculiarities thunder citizens abundance atmosphere transmitted specification maximum commonly apparatus partition questionless investigations adopting pamphlets accompany communicate installation circumstances",
                9: "876 1973 1847 23,846 10,746 1,37,946 424 5567 8563 11,200 11,140 7,13,345 537 2136 2746 23,476 23,450 14,06,786 948 4520 7361 15,409 27,763 18,76,432 473 6286 3950 78,796 86,521 20,54,362 572 9567 925,489 95,362 31,98,453",
                10: "July Canada Gandhiji Minister Registered Sita Kerala Varghese Delivery Swamimalai Leela Bezawada Strictly Tamilnadu Departure March Janatha Govindan Secretary Concurrent Raman Express Exercise Conferred Notification Guntur Prakash Schedule Government Confidential Kannan October Calcutta Kumbakonam Superintendent",
                11: "Lost time is never regained. Get up early and do your work. To-day's youth and to-morrow's old. Age is virtue when wisdom is with it. Measure your word before it goes out of you. Children are innocent and should be guided rightly. Our Land had great sages who knew the eternal truth.  ",
                12: "Men live by deeds and not by years. God helps those who help themselves. Honest work always brings its reward. A man without character should not be trusted. Rude language speaks ill of the man who uses it. Never lose courage when faced with difficulties. It is easier to ask questions than to answer them. Pandit Nehru always devoted himself to public affairs. It is essential to use the touch method. The correct degree of touch is an important factor. The touch should be neither too heavy nor too light. High speed is within the capacity of every typist. Astronomy is the oldest science. Young men have a right to be happy. A petty man refuses to admit defeat. Man is mortal, but his spirit is immortal. Sivaji fought to keep the real spirit of India alive. Tilak was a great Patriot and also a brilliant scholar.",
                13: "Pack my box with five dozen liquor jugs. A quick brown fox slowly jumped over the lazy dog. Petty quiz badly vexes chuffy worker hungry James. Five prizes were quickly distributed by the judge to examinees. Gay men with extra pluck and zeal would often have quiet jobs. Black market fugitive should be quickly expelled with zeal by any just society. Quiet Parsi fugitives in India extolled justly their most watched book Zend Avesta. May we have Jack Squires fix the big lamps for Andy Ziegler. Ramji worked with zeal and vigor to protect his quietful subjects excellently well. Handy Jack quixotic laziness may grow to be far expensive.",

                14: "The French Revolution was in 1789. The partition of India affected more than fifty percent of our people. I gave him a cheque for Rs 100 only. Rice was sold at Rs 325 per bag. Every Indian said that partition is bad. Messrs Raman and Company Limited were great toy makers. Raman got three fourth and Krishna one fourth of their shares. The cost of a good clock is two pounds. Rajan and Kumaran sailed on second February nineteen sixty for England. Have you seen my brother in law Ramachary. Received five sets of typists tables and chairs. Leave two spaces after comma.",
                15: "ask fad alas asks shad",
                16: "asdf jkl; asdf ;lkjas dj fk sl ad fj sadf jkl; fdsa ;lkj ask dad fall lad flask sad all dad asjk df;l asdf jkl; a s d f j k l ; fdsa jkl; asdf ;lkj lad sad flask dad asdf asjk jkl; fdsa fall ask dad sad asdj fl;k sadf jkl; dad fall ask lad jkl; asdf lkj; fdsa ask fall sad dad asdf jkl; sadf ;lkj asdf jkl; asdf ;lkjas dj fk sl ad fj sadf jkl; fdsa ;lkj ask dad fall lad flask sad all dad asjk df;l asdf jkl; a s d f j k l ; fdsa jkl; asdf ;lkj lad sad flask dad asdf asjk jkl; fdsa fall ask dad sad asdj fl;k sadf jkl; dad fall ask lad jkl; asdf lkj; fdsa ask fall sad dad asdf jkl; sadf ;lkj",


            };

        // ==================== ELEMENTS ====================
        const chapterSelect = document.getElementById("chapterSelect");
        const paragraph = document.getElementById("paragraph");
        const typingArea = document.getElementById("typingArea");
        const studentName = document.getElementById("studentName");
        const timeSelect = document.getElementById("timeSelect");
        const timer = document.getElementById("timer");
        const result = document.getElementById("result");
        const rName = document.getElementById("rName");
        const rWpm = document.getElementById("rWpm");
        const rErrors = document.getElementById("rErrors");
        const rAccuracy = document.getElementById("rAccuracy");
        const finalGrade = document.getElementById("finalGrade");

        let text = "", paraWords = [], timeLeft = 0, interval = null, paused = false;

        // ==================== CHAPTER DROPDOWN ====================
        for (let key in chapters) {
            let opt = document.createElement("option");
            opt.value = key;
            opt.innerText = `Chapter ${key}`;
            chapterSelect.appendChild(opt);
        }

        // ==================== LOAD CHAPTER (RESET LOGIC ADDED) ====================
        function loadChapter() {
            if (interval !== null) {
                clearInterval(interval);
                interval = null;
            }

            paused = false;
            timeLeft = parseInt(timeSelect.value);
            updateTimer();

            result.style.display = "none";
            rName.innerText = "";
            rWpm.innerText = "0";
            rErrors.innerText = "0";
            rAccuracy.innerText = "0";
            finalGrade.innerText = "";

            text = chapters[chapterSelect.value];
            paraWords = text.split(" ");
            paragraph.innerHTML = paraWords.map(w => `<span>${w} </span>`).join("");

            typingArea.value = "";
            typingArea.disabled = true;
        }

        chapterSelect.addEventListener("change", loadChapter);
        loadChapter();

        // ==================== START TEST ====================
        function startTest() {
            if (studentName.value.trim() === "") {
                alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç");
                return;
            }

            if (interval !== null && !paused) return;

            if (interval === null) {
                timeLeft = parseInt(timeSelect.value);
                updateTimer();
            }

            paused = false;
            typingArea.disabled = false;
            typingArea.focus();

            if (interval === null) {
                interval = setInterval(() => {
                    if (!paused) {
                        timeLeft--;
                        updateTimer();
                        if (timeLeft <= 0) endTest();
                    }
                }, 1000);
            }
        }

        function pauseTest() {
            if (interval === null) return;
            paused = !paused;
        }

        function submitTest() {
            if (!interval) { alert("Test start ‡§®‡§π‡•Ä‡§Ç ‡§π‡•Å‡§Ü"); return; }
            endTest();
        }

        function updateTimer() {
            let m = Math.floor(timeLeft / 60);
            let s = timeLeft % 60;
            timer.innerText = `${String(m).padStart(2, '0')}:${String(s).padStart(2, '0')}`;
        }

        // ==================== TYPING LOGIC ====================
        typingArea.addEventListener("input", () => {
            const typed = typingArea.value.trim().split(/\s+/);
            const spans = document.querySelectorAll("#paragraph span");

            spans.forEach((span, i) => {
                if (!typed[i]) span.className = "";
                else if (typed[i] === paraWords[i]) span.className = "correct";
                else span.className = "incorrect";
            });

            if (typed.length === paraWords.length && typed[typed.length - 1] === paraWords[paraWords.length - 1]) {
                endTest();
            }
        });

        // ==================== END TEST ====================
        function endTest() {
            clearInterval(interval);
            interval = null;
            typingArea.disabled = true;

            const typed = typingArea.value.trim().split(" ");
            let errors = 0;
            typed.forEach((w, i) => { if (w !== paraWords[i]) errors++; });

            let totalTime = parseInt(timeSelect.value) - timeLeft;
            let minutes = totalTime / 60 || 1;
            let wpm = Math.round(typed.length / minutes);
            let acc = typed.length ? Math.round(((typed.length - errors) / typed.length) * 100) : 0;

            rName.innerText = studentName.value;
            rWpm.innerText = wpm;
            rErrors.innerText = errors;
            rAccuracy.innerText = acc;
            finalGrade.innerText = getGrade(acc);
            result.style.display = "block";
        }

        // ==================== GRADE ====================
        function getGrade(acc) {
            if (acc >= 95) return "A+";
            if (acc >= 90) return "A";
            if (acc >= 80) return "B";
            if (acc >= 70) return "C";
            return "Needs Practice";
        }

        // ==================== BACKSPACE CONTROL ====================
        let backspaceDisabled = true;
        const backspaceBtn = document.getElementById("backspaceBtn");

        function toggleBackspace() {
            backspaceDisabled = !backspaceDisabled;
            backspaceBtn.innerText = backspaceDisabled ? "Backspace: OFF" : "Backspace: ON";
        }

        typingArea.addEventListener("keydown", function (e) {
            if (backspaceDisabled && e.key === "Backspace") {
                e.preventDefault();
            }
        });
    </script>

</body>

</html>