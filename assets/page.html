<!DOCTYPE html>
<html lang="hi">

<head>
    <meta charset="UTF-8">
    <title>Neelkanth Typing ‚Äì Hindi Typing Test</title>
    <style>
        body {
            font-family: Mangal, Arial, sans-serif;
            background: #f4f6f8;
            margin: 0;
        }

        .container {
            max-width: 100%;
            justify-items: center;
            margin: auto;
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 10px;
        }

        input,
        select,
        button {
            font-family: Mangal;
            font-size: 16px;
            padding: 6px;
            border-radius: 4px;
        }

        button {
            background: #3498db;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background: #2980b9;
        }

        #timer {
            font-weight: bold;
            color: #e74c3c;
        }

        #paragraph {
            font-size: 3vh;
            width: 98%;
            height: 200px;
            overflow-y: auto;
            border: 1px solid #333;
            padding: 10px;
        }

        .correct {
            color: green;
        }

        .incorrect {
            color: red;
        }

        #typingArea {
            width: 98%;
            height: 200px;
            padding: 10px;
            font-size: 3vh;
            font-family: Mangal;
            margin-top: 40px;
        }

        #result {
            width: 90%;
            display: none;
            margin-top: 15px;
            background: #ecfdf5;
            border: 1px solid #2ecc71;
            padding: 15px;
        }

        .footer {
            text-align: center;
            color: #777;
            margin-top: 10px;
        }


        /* ===== RESULT UI DESIGN ===== */
        #result {
            width: 95%;
            max-width: 500px;
            margin: 20px auto;
            display: none;
            background: linear-gradient(135deg, #e8f8ff, #f9fffc);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            animation: fadeIn 0.6s ease-in-out;
        }

        #result h2 {
            text-align: center;
            margin: 0 0 15px;
            color: #2c3e50;
        }

        .result-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .result-box {
            background: #ffffff;
            border-radius: 10px;
            padding: 12px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
        }

        .result-box span {
            display: block;
            font-size: 22px;
            font-weight: bold;
            color: #27ae60;
        }

        .result-box label {
            font-size: 14px;
            color: #555;
        }

        .result-footer {
            margin-top: 15px;
            text-align: center;
        }

        .result-footer button {
            padding: 8px 20px;
            font-size: 16px;
            border-radius: 20px;
            background: #27ae60;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Neelkanth Typing & Steno Classes <br> Hindi Typing Test</h1>

        <div class="controls">
            <div>‡§®‡§æ‡§Æ: <input id="studentName"></div>

            <div>
                Chapter:
                <select id="chapterSelect"></select>
            </div>

            <div>
                ‡§∏‡§Æ‡§Ø:
                <select id="timeSelect">
                    <option value="60">1 ‡§Æ‡§ø‡§®‡§ü</option>
                    <option value="300">5 ‡§Æ‡§ø‡§®‡§ü</option>
                    <option value="600">10 ‡§Æ‡§ø‡§®‡§ü</option>
                    <option value="900">15 ‡§Æ‡§ø‡§®‡§ü</option>
                </select>
            </div>

            <div>‚è±Ô∏è <span id="timer">00:00</span></div>
            <button style=" background:#e74c3c;" id="backspaceBtn" onclick="toggleBackspace()">Backspace: OFF</button>

        </div>

        <div style="margin-bottom:10px;">
            <button onclick="startTest()">Start</button>
            <button onclick="pauseTest()">Pause</button>
            <button onclick="submitTest()">Submit</button>
        </div>


        <div id="paragraph"></div>
        <textarea id="typingArea" disabled placeholder="‡§Ø‡§π‡§æ‡§Å ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡•á‡§Ç..."></textarea>

        <div id="result">
            <h2>üìä Test Result</h2>

            <div style="text-align:center;margin-bottom:10px;">
                <b id="rName"></b>
            </div>

            <div class="result-grid">
                <div class="result-box">
                    <span id="rWpm">0</span>
                    <label>WPM</label>
                </div>

                <div class="result-box">
                    <span id="rErrors">0</span>
                    <label>Errors</label>
                </div>

                <div class="result-box">
                    <span id="rAccuracy">0%</span>
                    <label>Accuracy</label>
                </div>

                <div class="result-box">
                    <span id="finalGrade">-</span>
                    <label>Grade</label>
                </div>
            </div>

            <div class="result-footer">
                <button onclick="window.print()">üñ®Ô∏è Print Result</button>
            </div>
        </div>


        <div class="footer">¬© Neelkanth Typing & Steno Classes</div>
    </div>

    <script>

        document.addEventListener("copy", e => e.preventDefault());
        document.addEventListener("cut", e => e.preventDefault());
        document.addEventListener("paste", e => e.preventDefault());

        document.addEventListener("contextmenu", e => e.preventDefault());

        // ==================== DEVTOOLS / INSPECT DISABLE ====================
        document.addEventListener("keydown", function (e) {
            // F12
            if (e.keyCode === 123) {
                e.preventDefault();
            }
            // Ctrl + Shift + I / J / C
            if (e.ctrlKey && e.shiftKey &&
                (e.keyCode === 73 || e.keyCode === 74 || e.keyCode === 67)) {
                e.preventDefault();
            }
            // Ctrl + U (view source)
            if (e.ctrlKey && e.keyCode === 85) {
                e.preventDefault();
            }
        });

        // ==================== FULLSCREEN ON START ====================
        function goFullScreen() {
            let elem = document.documentElement;
            if (elem.requestFullscreen) elem.requestFullscreen();
            else if (elem.mozRequestFullScreen) elem.mozRequestFullScreen();
            else if (elem.webkitRequestFullscreen) elem.webkitRequestFullscreen();
            else if (elem.msRequestFullscreen) elem.msRequestFullscreen();
        }

        // üî• Start button click pe fullscreen add
        const originalStartTest = startTest;
        startTest = function () {
            goFullScreen();      // F11 jaisa effect
            originalStartTest(); // purana startTest bhi chalega
        }
        const chapters = {
            1: "kag sad ask lad all hall fall dash flask flash salad lakhs jakhs halls has dad fad sad ask lad all hall fall dash flask flash salad lakhs jakhs halls has dad fadsad ask lad all hall fall dash flask flash salad lakhs jakhs halls has dad fadsad ask lad all hall fall dash flask flash salad lakhs jakhs halls has dad fadsad ask lad all hall fall dash flask flash salad lakhs jakhs halls has dad fadsad ask lad all hall fall dash flask flash salad lakhs jakhs halls has dad fadsad ask lad all hall fall dash flask flash salad lakhs jakhs halls has dad fadsad ask lad all hall fall dash flask flash salad lakhs jakhs halls has dad fadsad ask lad all hall fall dash flask flash salad lakhs jakhs halls has dad fadsad ask lad all hall fall dash flask flash salad lakhs jakhs halls has dad fadsad ask lad all hall fall dash flask flash salad lakhs jakhs halls has dad fad ",
            2: "‡§Ü‡§ú ‡§ï‡•á ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§Ø‡•Å‡§ó ‡§Æ‡•á‡§Ç ‡§∏‡§æ‡§á‡§¨‡§∞ ‡§Ö‡§™‡§∞‡§æ‡§ß ‡§§‡•á‡§ú‡•Ä ‡§∏‡•á ‡§¨‡§¢‡§º ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§ ‡§†‡§ó ‡§®‡§è-‡§®‡§è ‡§§‡§∞‡•Ä‡§ï‡•á ‡§Ö‡§™‡§®‡§æ‡§ï‡§∞ ‡§Ü‡§Æ ‡§≤‡•ã‡§ó‡•ã‡§Ç ‡§ï‡•ã ‡§†‡§ó‡§®‡•á ‡§ï‡•Ä ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§ ‡§á‡§∏‡§≤‡§ø‡§è ‡§∏‡§≠‡•Ä ‡§®‡§æ‡§ó‡§∞‡§ø‡§ï‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡§§‡§∞‡•ç‡§ï ‡§∞‡§π‡§®‡•á ‡§î‡§∞ ‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§Ö‡§®‡§ú‡§æ‡§® ‡§ï‡•â‡§≤ ‡§Ø‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§™‡§∞ ‡§≠‡§∞‡•ã‡§∏‡§æ ‡§® ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§∏‡§≤‡§æ‡§π ‡§¶‡•Ä ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à‡•§",
            3: "‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§î‡§∞ ‡§á‡§Ç‡§ü‡§∞‡§®‡•á‡§ü ‡§®‡•á ‡§π‡§Æ‡§æ‡§∞‡•á ‡§ú‡•Ä‡§µ‡§® ‡§ï‡•ã ‡§Ü‡§∏‡§æ‡§® ‡§¨‡§®‡§æ ‡§¶‡§ø‡§Ø‡§æ ‡§π‡•à, ‡§≤‡•á‡§ï‡§ø‡§® ‡§á‡§∏‡§ï‡•á ‡§∏‡§æ‡§• ‡§π‡•Ä ‡§ú‡•ã‡§ñ‡§ø‡§Æ ‡§≠‡•Ä ‡§¨‡§¢‡§º‡•á ‡§π‡•à‡§Ç‡•§ ‡§Æ‡§ú‡§¨‡•Ç‡§§ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§®‡§æ ‡§î‡§∞ ‡§∏‡§Æ‡§Ø-‡§∏‡§Æ‡§Ø ‡§™‡§∞ ‡§â‡§∏‡•á ‡§¨‡§¶‡§≤‡§§‡•á ‡§∞‡§π‡§®‡§æ ‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡§π‡•Å‡§§ ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à‡•§",
            4: "‡§∏‡§∞‡§ï‡§æ‡§∞ ‡§≤‡§ó‡§æ‡§§‡§æ‡§∞ ‡§∏‡§æ‡§á‡§¨‡§∞ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§ï‡•ã ‡§Æ‡§ú‡§¨‡•Ç‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡§è ‡§®‡§ø‡§Ø‡§Æ ‡§î‡§∞ ‡§ï‡§æ‡§®‡•Ç‡§® ‡§¨‡§®‡§æ ‡§∞‡§π‡•Ä ‡§π‡•à‡•§ ‡§á‡§∏‡§ï‡•á ‡§¨‡§æ‡§µ‡§ú‡•Ç‡§¶ ‡§≤‡•ã‡§ó‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡•ç‡§µ‡§Ø‡§Ç ‡§ú‡§æ‡§ó‡§∞‡•Ç‡§ï ‡§∞‡§π‡§®‡§æ ‡§π‡•ã‡§ó‡§æ ‡§§‡§æ‡§ï‡§ø ‡§µ‡•á ‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§ï‡•Ä ‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§ß‡•ã‡§ñ‡§æ‡§ß‡§°‡§º‡•Ä ‡§∏‡•á ‡§¨‡§ö ‡§∏‡§ï‡•á‡§Ç‡•§",
            5: "‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ ‡§ï‡•á ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§Æ‡•á‡§Ç ‡§§‡§ï‡§®‡•Ä‡§ï ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§¨‡§¢‡§º‡§§‡§æ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à‡•§ ‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§ï‡§ï‡•ç‡§∑‡§æ‡§è‡§Ç, ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§®‡•ã‡§ü‡•ç‡§∏ ‡§î‡§∞ ‡§à-‡§≤‡§∞‡•ç‡§®‡§ø‡§Ç‡§ó ‡§™‡•ç‡§≤‡•á‡§ü‡§´‡•â‡§∞‡•ç‡§Æ ‡§õ‡§æ‡§§‡•ç‡§∞‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§æ‡§´‡•Ä ‡§â‡§™‡§Ø‡•ã‡§ó‡•Ä ‡§∏‡§æ‡§¨‡§ø‡§§ ‡§π‡•ã ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§"
        };


        const chapterSelect = document.getElementById("chapterSelect");
        const paragraph = document.getElementById("paragraph");
        const typingArea = document.getElementById("typingArea");
        const studentName = document.getElementById("studentName");
        const timeSelect = document.getElementById("timeSelect");
        const timer = document.getElementById("timer");
        const result = document.getElementById("result");
        const rName = document.getElementById("rName");
        const rWpm = document.getElementById("rWpm");
        const rErrors = document.getElementById("rErrors");
        const rAccuracy = document.getElementById("rAccuracy");

        let text = "", paraWords = [], timeLeft = 0, interval = null, paused = false;

        // Dynamically populate chapter select
        for (let key in chapters) {
            let opt = document.createElement("option");
            opt.value = key;
            opt.innerText = `Chapter ${key}`;
            chapterSelect.appendChild(opt);
        }

        function loadChapter() {
            text = chapters[chapterSelect.value];
            paraWords = text.split(" ");
            paragraph.innerHTML = paraWords.map(w => `<span>${w} </span>`).join("");
            typingArea.value = "";
        }
        chapterSelect.addEventListener("change", loadChapter);
        loadChapter();

        function startTest() {
            if (studentName.value.trim() === "") { alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç"); return; }
            if (!interval) {
                timeLeft = parseInt(timeSelect.value);
            }
            paused = false;
            typingArea.disabled = false;
            typingArea.focus();
            interval = setInterval(() => {
                if (!paused) {
                    timeLeft--;
                    updateTimer();
                    if (timeLeft <= 0) endTest();
                }
            }, 1000);
        }

        function pauseTest() { paused = !paused; }

        function submitTest() {
            if (!interval) { alert("Test start ‡§®‡§π‡•Ä‡§Ç ‡§π‡•Å‡§Ü"); return; }
            endTest(); finalGrade.innerText = getGrade(acc);
        }

        function updateTimer() {
            let m = Math.floor(timeLeft / 60);
            let s = timeLeft % 60;
            timer.innerText = `${String(m).padStart(2, '0')}:${String(s).padStart(2, '0')}`;
        }

        typingArea.addEventListener("input", () => {
            const typed = typingArea.value.split(" ");
            const spans = document.querySelectorAll("#paragraph span");
            spans.forEach((span, i) => {
                if (typed[i] == null) span.className = "";
                else if (typed[i] === paraWords[i]) span.className = "correct";
                else span.className = "incorrect";
            });
        });

        function endTest() {
            clearInterval(interval);
            interval = null;
            typingArea.disabled = true;

            const typed = typingArea.value.trim().split(" ");
            let errors = 0;
            typed.forEach((w, i) => { if (w !== paraWords[i]) errors++; });

            let totalTime = parseInt(timeSelect.value) - timeLeft;
            let minutes = totalTime / 60 || 1;
            let wpm = Math.round(typed.length / minutes);
            let acc = typed.length ? Math.round(((typed.length - errors) / typed.length) * 100) : 0;

            rName.innerText = studentName.value;
            rWpm.innerText = wpm;
            rErrors.innerText = errors;
            rAccuracy.innerText = acc;
            result.style.display = "block";
        }

        const finalGrade = document.getElementById("finalGrade");

        // Grade logic
        function getGrade(acc) {
            if (acc >= 95) return "A+";
            if (acc >= 90) return "A";
            if (acc >= 80) return "B";
            if (acc >= 70) return "C";
            return "Needs Practice";
        }
        let backspaceDisabled = true;
        const backspaceBtn = document.getElementById("backspaceBtn");

        // Button toggle
        function toggleBackspace() {
            backspaceDisabled = !backspaceDisabled;
            backspaceBtn.innerText = backspaceDisabled
                ? "Backspace: OFF"
                : "Backspace: ON";
        }

        // Actual backspace block
        typingArea.addEventListener("keydown", function (e) {
            if (backspaceDisabled && e.key === "Backspace") {
                e.preventDefault();
            }
        });

    </script>
</body>

</html>